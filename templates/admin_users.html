{% extends "base.html" %}
{% block content %}

<style>
.admin-wrapper {
    max-width: 900px;
    margin: 40px auto;
    padding: 20px;
    font-family: Inter, sans-serif;
}

.admin-title {
    font-size: 32px;
    font-weight: 800;
    margin-bottom: 25px;
    color: #6A4CFF;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

th, td {
    padding: 14px;
    border-bottom: 1px solid #e0e0e0;
    text-align: left;
    font-size: 15px;
}

th {
    background: #f8f8ff;
    font-weight: 700;
}

.pro-badge {
    background: #6A4CFF;
    color: white;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 700;
}

.free-badge {
    background: #ccc;
    color: black;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 700;
}

.view-btn {
    padding: 6px 14px;
    background: #6A4CFF;
    color: white;
    text-decoration: none;
    border-radius: 6px;
    font-weight: 600;
}
</style>

<div class="admin-wrapper">

    <div class="admin-title">User Administration</div>

    <table>
        <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Plan</th>
            <th>Scans Used</th>
            <th>Subscription Status</th>
            <th>History</th>
        </tr>

        {% for user in users %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.email }}</td>

            <td>
                {% if user.is_pro %}
                    <span class="pro-badge">PRO</span>
                {% else %}
                    <span class="free-badge">FREE</span>
                {% endif %}
            </td>

            <td>{{ user.scans_used }}</td>
            <td>{{ user.subscription_status or "N/A" }}</td>

            <td>
                <a href="/admin/user/{{ user.id }}/history" class="view-btn">View</a>
            </td>
        </tr>
        {% endfor %}
    </table>

</div>

{% endblock %}
